title: 给小米路由器3刷入Pandavan
date: 2018-04-19 10:32:00
toc: true
categories: 技术向
tags: []
thumbnail: https://blog-img-1251828412.image.myqcloud.com/2018/04/21/A0244F8D-4340-4C54-8AE9-18E938A7EA04.jpeg!webp_1920w
---
一年前入手了小米路由器3，当初因为听说小米路由器可以刷各种固件（OpenWRT，LEDE，PandoraBox之类的），而且自己也挺喜欢小米的，所以立刻就买了。

拿到后立刻准备开刷，论坛上搜索小米路由器3刷机的帖子，却很少见，几乎没有找到可用的第三方固件。好像是因为小米路由器3采用的Nand Flash的原因，刷死之后搞一个Nand Flash的编程器得800软妹币左右，没人愿意冒这个风险，而且没有breed支持，导致小米路由器3和小米路由器Mini硬件几乎相同（除了Nand Flash）我无语了...果然得事先做好功课啊～

最近无意中看到了扔在一边正在吃灰的小米路由器3，突发奇想又搜了一下刷机方案，发现还真出现了一个。目前唯一的第三方固件是华硕RT-N56U固件，由于采用了相同的芯片（最重要的是老毛子的支持）。

（据说LEDE也专门为MIR3适配了一款固件，但是好像还没看到过刷成功的案例，所以没敢贸然行动...)

**预警：如果您准确按照本文的操作步骤操作，一般是不会出问题的，当然不排除刷坏的可能，变砖了赶快去买彩票，别来找我╮(￣▽￣"")╭**


<!--more-->


## 0x01 准备开刷 ##

首先请确认您的设备真的是小米路由器3（背面型号：MI R3）哟～其他设备可别拿来这么刷，否则...你懂的

### 以下材料务必提前准备好哟 ###

 - 小米路由器3（废话）

 - 质量还可以的网线（不是断了的或快要断了的就行）

 - 带有以太网接口的电脑（就是可以插水晶头的那种，台式机一般都有，笔记本近几年的好像越来越少见了，可以买个转换器）

 - 充足的时间和精力&不怕刷砖掉的强大内心&你的脑子

### 以下文件请在刷机前趁着有网络赶快下载好 ###

 - VMWare虚拟机文件：https://pan.baidu.com/s/1nmmOizIZ4mUmzq_89zJs8A 密码：w4qs

 - VMWare（这个自己去官网载，正版要钱的哟，可以先14天试用，反正刷机用不了十四天那么久）

 - 路由器降级文件：https://pan.baidu.com/s/1mh6ekCo 密码: znbs

 - Pandavan固件汉化版（看得懂英文你也可以不下）：http://pan.baidu.com/s/1o7NiwS6

### 把路由器降级到老版本 ###

进入后台上传上面下载的降级文件并更新即可，降级后若提示配置路由器可随意配置

## 0x02 启动刷机环境 ##

刷机在虚拟机中进行，环境已经配好了，双击打开载好的虚拟机文件导入VMWare。

接下来要进行的是桥接网络。你需要把电脑的以太网接口桥接到虚拟机的网络接口上。虚拟机设置里选择桥接，虚拟网络编辑器里设置桥接的实体网卡名称就可以了。

然后用那根~~不长不短、不粗不细~~的网线把路由器的**WAN**口和以太网卡的接口连在一起

最后启动虚拟机，正常的话应该会显示如下界面：

![https://blog-img-1251828412.image.myqcloud.com/2018/04/21/9E33C242-F595-477E-8CC2-217B3C2072BC.jpeg!webp_1920w][1]

## 0x03 开始刷固件 ##

### 获取SSH（风险无限接近于零可放心操作） ###

   输入0，按照英文提示进行操作。
   第一步设置管理后台IP，这个一般就是默认的192.168.31.1，如果你改过请自行输入
   ![https://blog-img-1251828412.image.myqcloud.com/2018/04/21/Photo%20Apr%2030,%2014%2047%2024.png!webp_1920w][2]
   第二步输入之前降级后设置的管理密码
   ![https://blog-img-1251828412.image.myqcloud.com/2018/04/21/Photo%20Apr%2030,%2014%2047%2036.jpeg!webp_1920w][3]
   最后输入y确认，等它出现绿色成功提示，按任意键返回主界面即可

### 刷入固件（风险最多百分之五其实应该也没什么问题的） ###

   在主界面输入4，它会问你是否要备份，为了保险一定要输入y哦～
   然后这里要等上很久的，可能半天没有动静让你误以为卡死了，其实不是的哟，一定要耐心等
   备份完会自动开始刷写固件，不出意外就会看到下面的提示：
   ![https://blog-img-1251828412.image.myqcloud.com/2018/04/21/Photo%20Apr%2030,%2014%2056%2017.jpeg!webp_1920w][4]

### 关闭虚拟机，撤销网络桥接 ###

   虚拟机关掉，桥接去掉，用你的实体机访问192.168.1.1，输入用户名admin密码admin即可看到后台啦！（此时SSID是ASUS）

## 0x04 刷入汉化 ##

进入新后台的升级界面，选择汉化固件再刷，刷完会发现后台打不开了（此时SSID变成了PDCN），别慌，重新让电脑获取IP，输入192.168.123.1打开汉化版后台，然后就可以为所欲为啦！不过建议用针戳一下路由器的那个重置小孔重置一下，增强稳定性～

## 0x05 总结 ##

说实话这是我第一次刷路由器呢～还好最后还是成功了，刷机肯定有风险，但是并不代表就不能尝试，有时勇于尝试一下，也许就会有意外的收获呢～

## 参考链接 & 特别感谢 ##

[1] 《翻qiang+广告屏蔽+网速跑满+ping值稳定米路由3刷机》http://bbs.xiaomi.cn/t-13988277
[2] 《小米路由器3利用虚拟机刷老毛子固件》http://www.right.com.cn/forum/thread-211055-1-1.html

特别感谢所有尝试过刷这个固件的朋友们，也感谢在论坛上分享刷机步骤的朋友们，这篇文章也搬运了参考链接[1]中的小部分内容（大部分是我自己码的），如有不妥请务必联系我


  [1]: https://blog-img-1251828412.image.myqcloud.com/2018/04/21/9E33C242-F595-477E-8CC2-217B3C2072BC.jpeg!webp_1920w
  [2]: https://blog-img-1251828412.image.myqcloud.com/2018/04/21/Photo%20Apr%2030,%2014%2047%2024.png!webp_1920w
  [3]: https://blog-img-1251828412.image.myqcloud.com/2018/04/21/Photo%20Apr%2030,%2014%2047%2036.jpeg!webp_1920w
  [4]: https://blog-img-1251828412.image.myqcloud.com/2018/04/21/Photo%20Apr%2030,%2014%2056%2017.jpeg!webp_1920w